
<!-- include header -->
<%- include('include/_header') %>
<!-- /include header -->

  <!-- Main Site -->
  <main id="site-main">
    <div class="container">
        <div class="box-nav d-flex justify-between">
           <div class="filter">
               <a href="/"><i class="fas fa-angle-double-left"></i> All Memo</a>
           </div>
        </div>
        <div class="form-title text-center">
            <h2 class="text-dark">Update Memo</h2>
            <span class="text-light">형식에 맞게 입력해주세요.</span>
        </div>

        <!-- add cafe form -->
         <!-- form handling -->
 <form method="POST" id="update_user">
    <div class="new_user">
        <div class="form-group">
            <label for="name" class="text-light">Name</label>
            <input type="hidden" name="id" value="<%= cafe._id %>">
            <input type="text" name="name" value="<%= cafe.name %>" placeholder="Mark Stoenis">
        </div>

        <div class="form-group">
            <label for="Summary" class="text-light">Summary</label>
            <input type="text" name="summary" value="<%= cafe.summary %>" placeholder="내용 요약">
        </div>

        <div class="form-group">
            <label for="File" class="text-light">File</label>
            <input type="file" name="image">
            <% if (cafe.img) { %> 
                <p>현재 업로드 파일 : <%= cafe.img %></p>
                <img src="<%= cafe.img %>" alt="이미지 없음">
            <% } %>
        </div>
    
        <div class="form-group">
            <label for="contents" class="text-light">contents</label>
            <div id="editor"></div>
            <input id="hidden_input" type="hidden" name="contents" value="">
        </div>
        <script>
            const Editor = toastui.Editor;

            const editor = new Editor({
                el: document.querySelector('#editor'),
                height: '600px',
                initialEditType: 'markdown',
                previewStyle: 'vertical',
                initialValue: `<%- cafe.contents.replace('~~~~', '')%>`
            });
            
        </script>

        <div class="form-group">
            <label for="Tag" class="text-light">Tag</label>
            <input type="text" name="tag" value="<%= cafe.tag %>" placeholder="tag">
        </div>

        <div class="form-group">
            <label for="Lat" class="text-light">lat</label>
            <input type="text" name="lat" value="<%= cafe.lat %>" placeholder="">
        </div>

        <div class="form-group">
            <label for="Lon" class="text-light">lon</label>
            <input type="text" name="lon" value="<%= cafe.lon %>" placeholder="">
        </div>
        

        <div class="form-group">
            <button type="submit" class="btn text-dark update">Save</button>
        </div>

    </div>
</form>
       
    </div>
</main>
<!-- /Main Site -->

<!-- include footer -->
<%- include('include/_footer') %>
<!-- /include footer -->
